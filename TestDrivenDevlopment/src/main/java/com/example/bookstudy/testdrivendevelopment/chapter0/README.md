# TDD 수련법

테스트 주도 개발을 잘하려면 훈련과 경험이 필요하다.

### 처음 훈련

- 간단하고 쉬운 문제들을 TDD로 시도한다. 가능하면 전에 접하고, 프로그래밍해본 문제가 좋다.
- 초록 막대 주기는 가능하면 짧도록 하자. 예를 들어, a = b + 3 * c 를 입력하고자 할 때, a=까지 입력한 지점은 빨간 막대 시점이다. 그 시점에서 테스트를 실행하면 분명히 에러가 날 것이기 때문이다. 가능한 빨리 초록 막대가 나오도록 해야 한다.
- 이 때, 초록 막대 주기의 최대 시간을 정해놓고 진행하다가 시간을 초과하면 **과감히 전의 상태로 돌아가서** 새로 시작하는 것이 좋다.
- '진짜로 만들기 전 까지만 가짜로 구현하기'를 적극적으로 사용하려고 노력하자. 가짜로 구현하기는 초록 막대 주기가 짧아지는 가장 간단하고 빠른 방법이다.
- 같은 문제를 여러번 풀어보자. 동일한 프로그램이 나오는가? 무엇이 비슷하고 무엇이 틀린가? 뭘 배웠는가?
- 초기에는 리팩토링 툴을 사용하는 것이 좋다. 초보에게는 순서와 과정이 중요한데 그걸 건너뛰게 되기 때문이다.

### 다음 훈련

- 여유를 가지자. TDD가 꼭 정신없이, 별 생각없이 프로그래밍을 하라는 것은 아니다. 모든 학습과 개선의 필수적 요소는 자기를 돌아보기와 자기가 생각하는 것을 생각하는 메타인식이다. 자신이 하는 것을 관조, 관찰하고 기록하고 분석하자. 같은 문제를 여러번 풀어보는 것 또한 좋다.
- TDD로는 해보지 않았던 영역을 하나씩 실험해보자. 어려운가? 왜 어려운가? 쉬운 방법은 없는가?
- 보폭을 조절하자. 잘 된다 싶으면 속도를 높이고 안 풀린다 싶으면 속도를 늦추자. 당신만의 페이스를 찾아라.
- 작은 에플리케이션 하나를 오로지 TDD로 완성해보자. 일주일 정도 걸리는 것이면 좋다.
- 다른 언어로 TDD를 해보자. 이전에 많이 풀어봤던 문제를 시도해보자. 전혀 다른 해를 얻지 못하면 자신의 방식에 문제가 있다는 것이다. 특히 동적 언어(Python ...)를 사용해 보는 것이 좋다. 자신이 전혀 생각하지 못했던 부분까지 중복 제거가 가능하다. 생각의 틀을 뒤집어 놓기에 참 좋은 방법이다.

### 다음 훈련

- TDD를 사용하지 않고 같은 문제에 접근해 보자. 이전에 하던 방식과 뭐가 달라졌는가? TDD를 써서 좋을 때가 있고 안 좋을 때가 있는가?
- TDD와 적절한 초기 설계를 섞어보자. 어느 정도가 적절한가? 어떤 방식의 디자인이 편하게 느껴지는가? 처음 디자인했던 것이 TDD를 거친 후에 얼마나 달라지는가? 뭐가 그대로 남던가? 어떤 '**안 좋은 부분**'이 그대로 남는가? 어떤 '**좋은 부분**'이 그대로 남는가?
- TDD와 함께 다른 방법들을 사용하는 것을 시도하라.

### TDD의 규칙

1. 오직 자동화된 테스트가 실패할 경우에만 새로운 코드를 작성한다.
2. 중복을 제거한다.

2가지의 단순한 규칙이지만, 이 단순한 규칙을 지키기 위한 행동 패턴이 있다.

1. 매 결정사항에 대해 피드백을 제공하는 실행 가능한 코드를 기반으로 하는 유기적인 설계를 해야한다.
2. 자동화된 테스트를 다른 사람이 만들어주길 하루에 스무 번도 넘게 기다릴 수는 없으므로, 직접 테스트를 작성해야 한다.
3. 개발 환경은 작은 변화에도 빠르게 반응할 수 있어야 한다.
4. 테스트를 쉽게 만들려면 반드시 응집도는 높고 결합도는 낮은 컴포넌트들로 구성되게끔 설계해아 한다.

### TDD의 순서

1. RED - 실패하는 작은 테스트를 작성한다. 처음에는 컴파일조차 되지 않을 수 있다.
2. GREEN - 빨리 테스트가 통과하게끔 만든다. 이를 위해 어떤 죄악을 저질러도 좋다.
3. BLUE(Refactor) - 일단 테스트를 통과하게만 하는 와중에 생겨난 모든 중복을 제거한다.

### **프로그래밍을 하며 발생하는 문제에 대해**

1. 불확실한 상태로 있는 대신, 가능하면 구체적인 학습을 하기 시작한다.
2. 침묵을 지키는 대신, 좀더 분명하게 커뮤니케이션한다.
3. 피드백을 회피하는 대신, 도움이 되고 구체적인 피드백을 찾는다.
4. (자신의 나쁜 성격을 직접 해결하라)